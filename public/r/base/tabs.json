{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "tabs",
  "title": "Tabs",
  "description": "Accessible compound tabs with keyboard navigation.",
  "registryDependencies": [
    "utils"
  ],
  "files": [
    {
      "path": "registry/base/tabs/tabs.tsx",
      "content": "import * as React from \"react\"\nimport { cn } from \"@/lib/utils\"\n\ntype TabsOrientation = \"horizontal\" | \"vertical\"\ntype TabsActivationMode = \"automatic\" | \"manual\"\n\ntype TabsContextValue = {\n  value: string | undefined\n  setValue: (value: string) => void\n  orientation: TabsOrientation\n  activationMode: TabsActivationMode\n  baseId: string\n  registerTrigger: (\n    value: string,\n    node: HTMLButtonElement | null\n  ) => () => void\n  moveFocus: (currentValue: string, key: string) => void\n}\n\nconst TabsContext = React.createContext<TabsContextValue | null>(null)\n\nfunction useTabsContext() {\n  const context = React.useContext(TabsContext)\n  if (!context) {\n    throw new Error(\"Tabs compound components must be used within <Tabs>.\")\n  }\n  return context\n}\n\nexport interface TabsProps extends React.HTMLAttributes<HTMLDivElement> {\n  value?: string\n  defaultValue?: string\n  onValueChange?: (value: string) => void\n  orientation?: TabsOrientation\n  activationMode?: TabsActivationMode\n}\n\nconst Tabs = React.forwardRef<HTMLDivElement, TabsProps>(\n  (\n    {\n      className,\n      value: valueProp,\n      defaultValue,\n      onValueChange,\n      orientation = \"horizontal\",\n      activationMode = \"automatic\",\n      ...props\n    },\n    ref\n  ) => {\n    const [uncontrolledValue, setUncontrolledValue] = React.useState(defaultValue)\n    const isControlled = valueProp !== undefined\n    const value = isControlled ? valueProp : uncontrolledValue\n    const baseId = React.useId()\n    const triggerMapRef = React.useRef(new Map<string, HTMLButtonElement>())\n\n    const setValue = React.useCallback(\n      (nextValue: string) => {\n        if (!isControlled) {\n          setUncontrolledValue(nextValue)\n        }\n        onValueChange?.(nextValue)\n      },\n      [isControlled, onValueChange]\n    )\n\n    const registerTrigger = React.useCallback(\n      (triggerValue: string, node: HTMLButtonElement | null) => {\n        if (node) {\n          triggerMapRef.current.set(triggerValue, node)\n        } else {\n          triggerMapRef.current.delete(triggerValue)\n        }\n\n        return () => {\n          triggerMapRef.current.delete(triggerValue)\n        }\n      },\n      []\n    )\n\n    const moveFocus = React.useCallback(\n      (currentValue: string, key: string) => {\n        const items = Array.from(triggerMapRef.current.entries()).filter(\n          ([, node]) => !node.disabled\n        )\n\n        if (!items.length) {\n          return\n        }\n\n        const currentIndex = items.findIndex(([itemValue]) => itemValue === currentValue)\n        const fallbackIndex = currentIndex >= 0 ? currentIndex : 0\n        let nextIndex = fallbackIndex\n\n        const isHorizontal = orientation === \"horizontal\"\n        const previousKeys = isHorizontal\n          ? new Set([\"ArrowLeft\", \"ArrowUp\"])\n          : new Set([\"ArrowUp\"])\n        const nextKeys = isHorizontal\n          ? new Set([\"ArrowRight\", \"ArrowDown\"])\n          : new Set([\"ArrowDown\"])\n\n        if (previousKeys.has(key)) {\n          nextIndex = (fallbackIndex - 1 + items.length) % items.length\n        } else if (nextKeys.has(key)) {\n          nextIndex = (fallbackIndex + 1) % items.length\n        } else if (key === \"Home\") {\n          nextIndex = 0\n        } else if (key === \"End\") {\n          nextIndex = items.length - 1\n        } else {\n          return\n        }\n\n        const [nextValue, nextNode] = items[nextIndex]\n        nextNode.focus()\n        if (activationMode === \"automatic\") {\n          setValue(nextValue)\n        }\n      },\n      [activationMode, orientation, setValue]\n    )\n\n    const contextValue = React.useMemo<TabsContextValue>(\n      () => ({\n        value,\n        setValue,\n        orientation,\n        activationMode,\n        baseId,\n        registerTrigger,\n        moveFocus,\n      }),\n      [value, setValue, orientation, activationMode, baseId, registerTrigger, moveFocus]\n    )\n\n    return (\n      <TabsContext.Provider value={contextValue}>\n        <div\n          ref={ref}\n          data-slot=\"tabs\"\n          data-orientation={orientation}\n          className={cn(\"w-full\", className)}\n          {...props}\n        />\n      </TabsContext.Provider>\n    )\n  }\n)\nTabs.displayName = \"Tabs\"\n\nexport type TabsListProps = React.HTMLAttributes<HTMLDivElement>\n\nconst TabsList = React.forwardRef<HTMLDivElement, TabsListProps>(\n  ({ className, ...props }, ref) => {\n    const { orientation } = useTabsContext()\n\n    return (\n      <div\n        ref={ref}\n        role=\"tablist\"\n        aria-orientation={orientation}\n        data-slot=\"tabs-list\"\n        data-orientation={orientation}\n        className={cn(\n          \"inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground\",\n          className\n        )}\n        {...props}\n      />\n    )\n  }\n)\nTabsList.displayName = \"TabsList\"\n\nexport interface TabsTriggerProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  value: string\n}\n\nconst TabsTrigger = React.forwardRef<HTMLButtonElement, TabsTriggerProps>(\n  ({ className, value, onClick, onKeyDown, ...props }, ref) => {\n    const {\n      value: selectedValue,\n      setValue,\n      activationMode,\n      baseId,\n      registerTrigger,\n      moveFocus,\n    } = useTabsContext()\n    const isSelected = selectedValue === value\n    const triggerId = `${baseId}-trigger-${value}`\n    const contentId = `${baseId}-content-${value}`\n\n    const localRef = React.useRef<HTMLButtonElement | null>(null)\n\n    React.useEffect(() => registerTrigger(value, localRef.current), [registerTrigger, value])\n\n    return (\n      <button\n        ref={(node) => {\n          localRef.current = node\n          if (typeof ref === \"function\") {\n            ref(node)\n          } else if (ref) {\n            ref.current = node\n          }\n        }}\n        type=\"button\"\n        role=\"tab\"\n        id={triggerId}\n        aria-selected={isSelected}\n        aria-controls={contentId}\n        data-slot=\"tabs-trigger\"\n        data-state={isSelected ? \"active\" : \"inactive\"}\n        tabIndex={isSelected ? 0 : -1}\n        className={cn(\n          \"inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1.5 text-sm font-medium ring-offset-background transition-[color,background-color,box-shadow] focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-card data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n          className\n        )}\n        onClick={(event) => {\n          onClick?.(event)\n          if (!event.defaultPrevented) {\n            setValue(value)\n          }\n        }}\n        onKeyDown={(event) => {\n          onKeyDown?.(event)\n          if (event.defaultPrevented) {\n            return\n          }\n\n          if (\n            event.key === \"ArrowLeft\" ||\n            event.key === \"ArrowRight\" ||\n            event.key === \"ArrowUp\" ||\n            event.key === \"ArrowDown\" ||\n            event.key === \"Home\" ||\n            event.key === \"End\"\n          ) {\n            event.preventDefault()\n            moveFocus(value, event.key)\n            return\n          }\n\n          if (\n            activationMode === \"manual\" &&\n            (event.key === \"Enter\" || event.key === \" \")\n          ) {\n            event.preventDefault()\n            setValue(value)\n          }\n        }}\n        {...props}\n      />\n    )\n  }\n)\nTabsTrigger.displayName = \"TabsTrigger\"\n\nexport interface TabsContentProps extends React.HTMLAttributes<HTMLDivElement> {\n  value: string\n  forceMount?: boolean\n}\n\nconst TabsContent = React.forwardRef<HTMLDivElement, TabsContentProps>(\n  ({ className, value, forceMount = false, ...props }, ref) => {\n    const { value: selectedValue, baseId } = useTabsContext()\n    const isSelected = selectedValue === value\n    const triggerId = `${baseId}-trigger-${value}`\n    const contentId = `${baseId}-content-${value}`\n\n    if (!forceMount && !isSelected) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        role=\"tabpanel\"\n        id={contentId}\n        aria-labelledby={triggerId}\n        tabIndex={0}\n        hidden={!isSelected}\n        data-slot=\"tabs-content\"\n        data-state={isSelected ? \"active\" : \"inactive\"}\n        className={cn(\n          \"mt-2 rounded-lg border border-border/80 bg-card p-4 text-sm text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring\",\n          className\n        )}\n        {...props}\n      />\n    )\n  }\n)\nTabsContent.displayName = \"TabsContent\"\n\nexport { Tabs, TabsContent, TabsList, TabsTrigger }\n",
      "type": "registry:ui"
    }
  ],
  "type": "registry:ui"
}